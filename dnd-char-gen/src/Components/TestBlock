import React, { useState } from 'react';
import 'bootstrap/dist/css/bootstrap.min.css';
import axios from 'axios';

const abilityURL = axios.create({
   baseURL: "http://localhost:3000/abilities"
})
const modifierURL = axios.create({
    baseURL: "http://localhost:3000/modifiers"
})

export default class NewStatBlock extends React.Component {
    state = {
        abilities: [],
        modifiers: []
    }

    constructor() {
        super();
        this.getAbilities();
        this.getModifiers();
    }

    getAbilities = async () => {
        let data = await abilityURL.get('/').then(({ data })
        => data);
        this.setState({ abilities: data })
    }

    getModifiers = async () => {
        let data = await modifierURL.get('/').then(({ data })
        => data);
        this.setState({ modifiers: data})
    }

    render() {
        return(
            <div class="stat-block">
                <div>
                    Strength
                </div>
                <div>
                    {this.state.abilities.map(ability => <li>{ ability.str }</li>)}
                </div>
                <div class="stat-mod">
                    {this.state.modifiers.map(modifier => <li> {modifier.str }</li>)}
                </div>
            </div>
        )   
    }
}